# sources:
## http://mutelight.org/articles/practical-tmux
## hawk something

#
# global options

# set prefix key to CTRL-A (like gnu screen)
set -g prefix C-a

# Start Window Numbering at 1
set -g base-index 1

# Faster Command Sequences (setting escape time to zero)
set -s escape-time 0

# window is only constrained in size if a smaller client is active
setw -g aggressive-resize on

# Allows us to use C-a a <command> to send commands to a TMUX session inside 
# another TMUX session
bind-key a send-prefix

# statusbar shows 'uptime' info
set -g status-right '#[fg=black]#(uptime)'

# Highlight active window (updated for tmux 2.9+)
set-window-option -g window-status-current-style bg=black,fg=green

# Split windows with '-'
bind - split-window -v

#
# Mouse and Scrolling Configuration (2025-01-01)
# Purpose: Make tmux scrolling behave like a normal terminal while preserving remote persistence
# - Mouse support for natural scrolling with wheel/trackpad
# - Large scrollback buffer for reading long outputs (e.g., Claude Code sessions)
# - Smooth scroll speed and improved copy mode behavior
#
# Native text selection (bypasses tmux, allows Cmd+C copy):
# - Terminal.app: Hold Fn + drag to select
# - VS Code terminal: Hold Option + drag to select
#   (requires VS Code setting: "terminal.integrated.macOptionClickForcesSelection": true)
#

# Enable mouse support (scrolling, pane selection, resizing)
set -g mouse on

# Increase scrollback buffer from default 2000 to 50000 lines
set -g history-limit 50000

# Smoother scrolling - reduce from default 5 lines to 2 per tick
bind -T copy-mode-vi WheelUpPane select-pane \; send-keys -X -N 2 scroll-up
bind -T copy-mode-vi WheelDownPane select-pane \; send-keys -X -N 2 scroll-down

# Disable tmux mouse selection (use Fn+mouse for native Terminal.app selection instead)
unbind -T copy-mode-vi MouseDragEnd1Pane
unbind -T copy-mode MouseDragEnd1Pane
unbind -T root MouseDrag1Pane